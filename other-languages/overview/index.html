<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.21" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    <link rel="stylesheet" href="https://libpasta.github.io/css/monokai.css">
    
    <title>Overview</title>
    <link href="https://libpasta.github.io//css/nucleus.css" rel="stylesheet">
    <link href="https://libpasta.github.io//css/font-awesome.min.css" rel="stylesheet">
    <link href="https://libpasta.github.io//css/hybrid.css" rel="stylesheet">
    <link href="https://libpasta.github.io//css/featherlight.min.css" rel="stylesheet">
    <link href="https://libpasta.github.io//css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://libpasta.github.io//css/horsey.css" rel="stylesheet">
    <link href="https://libpasta.github.io//css/theme.css" rel="stylesheet">
    <link href="https://libpasta.github.io//css/hugo-theme.css" rel="stylesheet">
    <script src="https://libpasta.github.io//js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    

  </head>
  <body class="" data-url="/other-languages/overview/">
    
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://libpasta.github.io/">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   id="svg8"
   version="1.1"
   viewBox="0 0 45.997559 10"
   height="12.242269mm"
   width="45.997559mm">
  <defs
     id="defs2" />
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     transform="translate(-66.952891,-67.060878)"
     id="layer1">
    <text
       id="text4487"
       y="100.10173"
       x="68.955536"
       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         style="fill:#ffffff;stroke:#FFFFFF;stroke-width:0.26458332px"
         y="76.10173"
         x="68.955536"
         id="tspan4485">libpasta</tspan></text>
  </g>
</svg>

</a>

    </div>
    
</div>


  <div class="highlightable">
    <ul class="topics">
      
        
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
        
        
          
        
          
        
          
        
          
        
      
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/introduction/">
        <a href="/introduction/">
          <span>
            
              <b>1. </b>
            
             Introduction
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/introduction/what-is-libpasta/">
              <a href="/introduction/what-is-libpasta/">
                <span>What is libpasta?     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/introduction/basic-usage/">
              <a href="/introduction/basic-usage/">
                <span>Basic Usage     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/introduction/installation/">
              <a href="/introduction/installation/">
                <span>Installation     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/introduction/password-hashing-theory/">
              <a href="/introduction/password-hashing-theory/">
                <span>Password hashing theory     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/advanced/">
        <a href="/advanced/">
          <span>
            
              <b>2. </b>
            
             Advanced Usage
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/advanced/keyed/">
              <a href="/advanced/keyed/">
                <span>Keyed Hashes     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/advanced/migration/">
              <a href="/advanced/migration/">
                <span>Password Migration     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/advanced/tuning/">
              <a href="/advanced/tuning/">
                <span>Tuning &amp; Parameter Selection     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/other-languages/">
        <a href="/other-languages/">
          <span>
            
              <b>3. </b>
            
             Other Languages
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item active" data-nav-id="/other-languages/overview/">
              <a href="/other-languages/overview/">
                <span>Overview     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/other-languages/c/">
              <a href="/other-languages/c/">
                <span>C     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/other-languages/java/">
              <a href="/other-languages/java/">
                <span>Java     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/other-languages/php/">
              <a href="/other-languages/php/">
                <span>PHP     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/other-languages/python/">
              <a href="/other-languages/python/">
                <span>Python     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/other-languages/ruby/">
              <a href="/other-languages/ruby/">
                <span>Ruby     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/technical-details/">
        <a href="/technical-details/">
          <span>
            
              <b>4. </b>
            
             Technical Details
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/technical-details/algorithm-choice/">
              <a href="/technical-details/algorithm-choice/">
                <span>Algorithm Selection     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/technical-details/phc-string-format/">
              <a href="/technical-details/phc-string-format/">
                <span>Serializing Hashes     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
    </ul>
    <hr>
     
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable sticky-parent">
            
            <div class="sticky-spacer">
              <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                  
                  
                  
                    
                    
                <a href="/other-languages/" itemprop="url"><span itemprop="title">Other Languages</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                <span itemprop="title"> Overview</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">

    </div>
</div>

              
            </div>

            </div>
            
              <div id="body-inner">
                
                <h1>Overview</h1>
                

<p>Our goal is for <code>libpasta</code> to be the clear choice for any developers requiring
secure password storage. We target a number of languages, initially supported
through the use of <a href="http://www.swig.org/">SWIG</a>.</p>

<p>So far, this means we have simple bindings for <a href="../c">C</a>, <a href="../java">Java</a>,
<a href="../php">PHP</a>, <a href="../python">python</a>, and <a href="../ruby">Ruby</a>.</p>

<p>The SWIG specification for <code>libpasta</code> reveals the simplicity of the API,
and a few important caveats:</p>
<div class="highlight"><pre><code class="language-c" data-lang="c"><span></span><span class="cp"># in pasta.h</span>

<span class="cp">#include</span> <span class="cpf">&lt;stdbool.h&gt;</span><span class="cp"></span>
<span class="k">extern</span> <span class="kt">char</span> <span class="o">*</span> <span class="nf">hash_password</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">password</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">bool</span> <span class="nf">verify_password</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">hash</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">password</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="nf">free_string</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">char</span> <span class="o">*</span> <span class="nf">read_password</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prompt</span><span class="p">);</span>
</code></pre></div>

<p>These bind to the functions exported by the <a href="#">libpasta-ffi</a> crate.</p>
<div class="highlight"><pre><code class="language-swig" data-lang="swig"><span></span><span class="cp"># in pasta.i</span>

<span class="nf">%module</span> <span class="n">pasta</span>
<span class="o">%</span><span class="p">{</span>
<span class="cp">#include</span> <span class="cpf">&lt;pasta.h&gt;</span><span class="cp"></span>
<span class="o">%</span><span class="p">}</span>

<span class="nf">%typemap</span><span class="p">(</span><span class="n">newfree</span><span class="p">)</span> <span class="kt">char</span> <span class="o">*</span> <span class="s">&quot;free_string($1);&quot;</span><span class="p">;</span>
<span class="nf">%newobject</span> <span class="n">hash_password</span><span class="p">;</span>
<span class="nf">%newobject</span> <span class="n">read_password</span><span class="p">;</span>


<span class="nf">%pragma</span><span class="p">(</span><span class="n">java</span><span class="p">)</span> <span class="n">jniclasscode</span><span class="o">=%</span><span class="p">{</span>
  <span class="k">static</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="n">loadLibrary</span><span class="p">(</span><span class="s">&quot;pasta_jni&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">UnsatisfiedLinkError</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">System</span><span class="p">.</span><span class="n">err</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Native code library failed to load. </span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">+</span> <span class="n">e</span><span class="p">);</span>
      <span class="n">System</span><span class="p">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="o">%</span><span class="p">}</span>

<span class="cp">#include</span> <span class="cpf">&lt;pasta.h&gt;</span><span class="cp"></span>
</code></pre></div>

<p>An important caveat, and reason why these bindings should be preferred,
is that the values returned by <code>hash_password</code> and <code>read_password</code> are
technically still Rust <code>CString</code>s. Although these are in the correct layout
to be read as string pointers in C, we must take care to return the pointer
to Rust so that it can handle freeing the <code>CString</code>. Otherwise we are left
with a memory leak.</p>

<p>Notice that the SWIG bindings have handled this: on returning a <code>CString</code>,
the bindings create a new object, and then call <code>free_string</code> on the pointer.</p>


      
      
      </div>
    </div>

    

    <div id="navigation">
        
        
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://libpasta.github.io//js/perfect-scrollbar.min.js"></script>
    <script src="https://libpasta.github.io//js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://libpasta.github.io//js/jquery.sticky-kit.min.js"></script>
    <script src="https://libpasta.github.io//js/featherlight.min.js"></script>
    <script src="https://libpasta.github.io//js/html5shiv-printshiv.min.js"></script>
    <script src="https://libpasta.github.io//js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://libpasta.github.io//js/modernizr.custom.71422.js"></script>
    <script src="https://libpasta.github.io//js/learn.js"></script>
    <script src="https://libpasta.github.io//js/hugo-learn.js"></script>
    

  </body>
</html>

